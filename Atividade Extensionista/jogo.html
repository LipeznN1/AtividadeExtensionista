<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Inclus√£o Digital para Idosos</title>

    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap" rel="stylesheet">

    <style>
        :root {
            --primary-color: #0A84FF;  
            --success-color: #30D158; 
            --danger-color: #FF453A;   
            --neutral-color: #5A5A5D;  
            --bg-color: #1C1C1E;       
            --container-bg: #2C2C2E;   
            --text-color: #F2F2F7;     
            --text-secondary: #8E8E93; 
            --border-color: #3A3A3C;   
        }

        body {
            font-family: 'Roboto', sans-serif;
            background-color: var(--bg-color); 
            color: var(--text-color); 
            line-height: 1.6;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            text-align: center;
        }

        /* Container principal */
        #menu-principal, #area-jogo {
            background-color: var(--container-bg); 
            padding: 0;
            padding-bottom: 30px;
            border-radius: 12px;
            border: 1px solid var(--border-color); 
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
            min-width: 400px; 
            max-width: 600px;
            transition: all 0.3s ease; 
            overflow: hidden;
        }
        
        #area-jogo {
            padding: 30px 40px;
        }

        #menu-imagem {
            width: 100%;
            height: 250px;
            object-fit: cover;
            border-bottom: 1px solid var(--border-color);
        }

        #menu-principal h1 {
            margin-top: 25px;
        }
        
        #menu-principal p {
            color: var(--text-secondary);
            padding: 0 40px;
        }

        h1, h2, h3 {
            color: var(--text-color);
        }
        h3 {
            border-bottom: 1px solid var(--border-color);
            padding-bottom: 10px;
        }
        
        #menu-principal button {
            width: calc(100% - 80px);
            margin-left: 40px;
            margin-right: 40px;
        }

        button {
            display: block;
            width: 100%;
            padding: 16px; 
            margin-top: 15px;
            font-size: 1.1em;
            font-weight: bold;
            cursor: pointer;
            border: none;
            border-radius: 8px; 
            background-color: var(--primary-color);
            color: white;
            transition: filter 0.2s ease, transform 0.1s ease; 
        }

        button:hover {
            filter: brightness(85%); 
        }
        
        button:active {
             transform: scale(0.98); 
        }

        #btn-voltar {
            background-color: var(--neutral-color);
        }

        .hidden {
            display: none;
        }

        /* --- JOGO DO MOUSE --- */
        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.05); }
            100% { transform: scale(1); }
        }
        
        #alvo {
            background-color: var(--danger-color) !important; 
            animation: pulse 1.5s infinite ease-in-out; 
            font-weight: bold;
        }

        #score-display { color: var(--success-color) !important; font-weight: bold; }
        #timer-display { color: var(--danger-color) !important; font-weight: bold; }
        #error-display { color: #FF8A85 !important; font-weight: bold; }

        /* --- JOGO DO TECLADO --- */
        #letra-display {
            border: 2px solid var(--border-color);
            color: var(--primary-color) !important;
            background-color: var(--bg-color); 
            font-weight: 700 !important;
        }

        /* --- JOGO DE NAVEGA√á√ÉO --- */
        #fake-site {
            border: 2px solid var(--border-color);
            padding: 20px;
            margin-top: 20px;
            text-align: left; 
            background-color: var(--bg-color); 
            border-radius: 8px;
        }
        .fake-link {
            font-size: 1.2em;
            color: var(--primary-color);
            text-decoration: none; 
            cursor: pointer;
            display: block; 
            margin-top: 10px;
            padding: 12px;
            border-radius: 5px;
            transition: background-color 0.2s ease, color 0.2s ease;
            font-weight: 500;
        }
        .fake-link:hover {
            color: white;
            background-color: var(--primary-color); 
        }
        #feedback-nav {
            margin-top: 15px;
            font-size: 1.2em;
            font-weight: bold;
        }
        
        #fake-site button {
            background-color: var(--primary-color);
        }
        #fake-site button[style*="6c757d"] {
            background-color: var(--neutral-color);
        }
    </style>
</head>
<body>

    <div id="menu-principal">
        <img src="imagem-menu.jpg" alt="Idosos aprendendo a usar o computador" id="menu-imagem">

        <h1>Aprendendo a usar o computador</h1>
        <p>Escolha por onde come√ßar:</p>
        <button id="btn-mouse">1. Praticar com o Mouse</button>
        <button id="btn-teclado">2. Praticar com o Teclado</button>
        <button id="btn-navegacao">3. Praticar Navega√ß√£o</button>
    </div>

    <div id="area-jogo" class="hidden">
        
        <div id="game-content"></div>

        <button id="btn-voltar">Voltar ao Menu</button>
    </div>

    <script>
        // Pega os elementos principais da tela
        const menuPrincipal = document.getElementById('menu-principal');
        const areaJogo = document.getElementById('area-jogo');
        
        const gameContent = document.getElementById('game-content'); // A √°rea limpa

        // Pega os bot√µes
        const btnMouse = document.getElementById('btn-mouse');
        const btnTeclado = document.getElementById('btn-teclado');
        const btnNavegacao = document.getElementById('btn-navegacao');
        const btnVoltar = document.getElementById('btn-voltar');

        // --- VARI√ÅVEIS DOS JOGOS ---
        let mouseGameTimerId = null; 
        let mouseGameScore = 0;      
        let mouseGameErrors = 0;     
        let isMouseGameActive = false; 
        
        let teclasDoJogoAtual = []; 
        let indiceTeclaAtual = 0;
        let letraAlvoDisplay; 
        let feedbackDisplay;  
        let keyboardGameLevel = 1; 
        
        const LEVEL_1_KEYS = ['A', 'S', 'D', 'F', 'G', 'H', 'J', 'K', 'L', '√á']; 
        const LEVEL_2_KEYS = ['Q', 'W', 'E', 'R', 'T', 'Y', 'U', 'I', 'O', 'P']; 
        const LEVEL_3_KEYS = ['Z', 'X', 'C', 'V', 'B', 'N', 'M']; 
        const LEVEL_4_KEYS = [...LEVEL_1_KEYS, ...LEVEL_2_KEYS]; 
        const LEVEL_5_KEYS = [...LEVEL_1_KEYS, ...LEVEL_2_KEYS, ...LEVEL_3_KEYS]; 
        // ------------------------------------

        // Adiciona "escutadores" de clique nos bot√µes
        btnMouse.addEventListener('click', iniciarJogoMouse);
        btnTeclado.addEventListener('click', iniciarJogoTeclado);
        btnNavegacao.addEventListener('click', iniciarJogoNavegacao);
        btnVoltar.addEventListener('click', voltarAoMenu);
        
        gameContent.addEventListener('click', registrarErroMouse);


        function mostrarAreaJogo() {
            menuPrincipal.classList.add('hidden'); 
            areaJogo.classList.remove('hidden');  
        }

        // --- 1. FUN√á√ÉO DE VOLTAR ---
        function voltarAoMenu() {
            areaJogo.classList.add('hidden');       
            menuPrincipal.classList.remove('hidden'); 
            
            gameContent.innerHTML = ''; 
            gameContent.style.minHeight = 'auto'; 
            
            clearInterval(mouseGameTimerId); 
            window.onkeydown = null;
            isMouseGameActive = false; 
        }

        // --- 2. JOGO DO MOUSE (Com a corre√ß√£o de 'position: absolute') ---
        // --- 2. JOGO DO MOUSE (Com a corre√ß√£o definitiva) ---
        function iniciarJogoMouse() {
            mostrarAreaJogo();
            gameContent.innerHTML = ''; 
            
            // Reseta os estilos do gameContent
            gameContent.style.minHeight = 'auto'; 
            gameContent.style.position = 'static';

            mouseGameScore = 0;
            mouseGameErrors = 0; 
            isMouseGameActive = true; 
            let timeLeft = 15;

            const titulo = document.createElement('h2');
            titulo.id = 'mouse-game-title'; 
            titulo.textContent = 'Jogo do Mouse: Clique no Alvo!';
            gameContent.prepend(titulo); 

            // (O placar continua o mesmo)
            const statsContainer = document.createElement('div');
            statsContainer.style.display = 'flex';
            statsContainer.style.justifyContent = 'space-around';
            statsContainer.style.padding = '10px 0';

            const scoreDisplay = document.createElement('p');
            scoreDisplay.id = 'score-display';
            scoreDisplay.textContent = 'Pontos: 0';
            scoreDisplay.style.fontSize = '1.5em';
            statsContainer.appendChild(scoreDisplay);

            const timerDisplay = document.createElement('p');
            timerDisplay.id = 'timer-display';
            timerDisplay.textContent = 'Tempo: 15';
            timerDisplay.style.fontSize = '1.5em';
            statsContainer.appendChild(timerDisplay);

            const errorDisplay = document.createElement('p');
            errorDisplay.id = 'error-display';
            errorDisplay.textContent = 'Erros: 0';
            errorDisplay.style.fontSize = '1.5em';
            statsContainer.appendChild(errorDisplay);

            gameContent.appendChild(statsContainer);

            // --- NOVA ESTRUTURA (A CORRE√á√ÉO) ---
            // 1. Criamos a "Arena" para o alvo
            const alvoContainer = document.createElement('div');
            alvoContainer.id = 'alvo-container';
            alvoContainer.style.height = '450px';     // Define o campo de jogo
            alvoContainer.style.position = 'relative'; // √â o novo limite para o alvo
            alvoContainer.style.marginTop = '20px';  // Espa√ßo do placar
            gameContent.appendChild(alvoContainer); // Adiciona a arena
            
            // 2. Criamos o Alvo
            const alvo = document.createElement('div');
            alvo.id = 'alvo';
            alvo.textContent = 'Clique aqui!';
            
            // 3. Adicionamos o Alvo DENTRO da Arena
            alvoContainer.appendChild(alvo); 
            
            alvo.addEventListener('click', moverAlvo); 

            // 4. Estilo do Alvo (flutuando dentro da Arena)
            alvo.style.width = '100px';
            alvo.style.height = '100px';
            alvo.style.color = 'white';
            alvo.style.borderRadius = '50%';
            alvo.style.position = 'absolute'; // Flutua
            alvo.style.cursor = 'pointer';
            alvo.style.display = 'flex';
            alvo.style.justifyContent = 'center';
            alvo.style.alignItems = 'center';
            alvo.style.fontWeight = 'bold';
            
            // Posi√ß√£o inicial (para n√£o bugar no canto)
            alvo.style.top = '150px'; 
            alvo.style.left = '150px';
            // --- FIM DA CORRE√á√ÉO ---

            mouseGameTimerId = setInterval(() => {
                timeLeft--; 
                timerDisplay.textContent = 'Tempo: ' + timeLeft;

                if (timeLeft <= 0) {
                    encerrarJogoMouse(); 
                }
            }, 1000); 
        }

        function moverAlvo(event) {
            event.stopPropagation(); 
            
            if (!isMouseGameActive) return; 
            
            mouseGameScore++;
            const scoreDisplay = document.getElementById('score-display');
            if (scoreDisplay) scoreDisplay.textContent = 'Pontos: ' + mouseGameScore;

            const alvo = document.getElementById('alvo');
            if (!alvo) return; 
            
            let padding = 10;

            let maxX = 300;
            let maxY = 340;

            const randomX = Math.floor(Math.random() * (maxX - padding + 1)) + padding;
            const randomY = Math.floor(Math.random() * (maxY - padding + 1)) + padding;
            
            alvo.style.left = randomX + 'px';
            alvo.style.top = randomY + 'px';

            alvo.textContent = '√ìtimo!';
            setTimeout(() => {
                if (alvo) alvo.textContent = 'Clique aqui!';
            }, 300); 
        }

        function registrarErroMouse() {
            if (!isMouseGameActive) return;

            mouseGameErrors++;
            const errorDisplay = document.getElementById('error-display');
            if (errorDisplay) errorDisplay.textContent = 'Erros: ' + mouseGameErrors;
        }


        function encerrarJogoMouse() {
            clearInterval(mouseGameTimerId);
            isMouseGameActive = false; 

            const alvo = document.getElementById('alvo');
            if (alvo) alvo.style.display = 'none';

            const titulo = document.getElementById('mouse-game-title');
            if (titulo) {
                titulo.textContent = `Tempo Esgotado! Final: ${mouseGameScore} pontos, ${mouseGameErrors} erros.`;
                titulo.style.color = "var(--primary-color)"; 
            }
            
            const timerDisplay = document.getElementById('timer-display');
            if (timerDisplay) timerDisplay.textContent = 'Tempo: 0';
        }


        // --- 3. JOGO DO TECLADO (Com N√≠veis) ---

        function embaralharArray(array) {
            let arrayCopiado = [...array]; 
            for (let i = arrayCopiado.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [arrayCopiado[i], arrayCopiado[j]] = [arrayCopiado[j], arrayCopiado[i]];
            }
            return arrayCopiado;
        }
        
        function iniciarJogoTeclado() {
            mostrarAreaJogo();
            keyboardGameLevel = 1; 
            startKeyboardLevel(keyboardGameLevel); 
        }

        function startKeyboardLevel(level) {
            gameContent.innerHTML = ''; 
            indiceTeclaAtual = 0; 
            
            let keysForThisLevel;
            switch (level) {
                case 1: keysForThisLevel = LEVEL_1_KEYS; break;
                case 2: keysForThisLevel = LEVEL_2_KEYS; break;
                case 3: keysForThisLevel = LEVEL_3_KEYS; break;
                case 4: keysForThisLevel = LEVEL_4_KEYS; break;
                case 5: keysForThisLevel = LEVEL_5_KEYS; break;
                default:
                    renderKeyboardVitoria(); 
                    return;
            }

            teclasDoJogoAtual = embaralharArray(keysForThisLevel);

            const titulo = document.createElement('h2');
            titulo.textContent = 'Jogo do Teclado - N√≠vel ' + level; 
            gameContent.appendChild(titulo);

            const instrucao = document.createElement('p');
            instrucao.textContent = 'Pressione a tecla que aparece na tela:';
            gameContent.appendChild(instrucao);

            letraAlvoDisplay = document.createElement('div');
            letraAlvoDisplay.id = 'letra-display';
            gameContent.appendChild(letraAlvoDisplay);
            
            letraAlvoDisplay.style.fontSize = '8em'; 
            letraAlvoDisplay.style.padding = '50px';
            letraAlvoDisplay.style.borderRadius = '10px';
            letraAlvoDisplay.style.minWidth = '150px';
            letraAlvoDisplay.style.display = 'inline-block'; 

            feedbackDisplay = document.createElement('p');
            feedbackDisplay.id = 'feedback-teclado';
            feedbackDisplay.style.fontSize = '1.2em';
            feedbackDisplay.style.marginTop = '20px';
            feedbackDisplay.style.fontWeight = 'bold';
            gameContent.appendChild(feedbackDisplay);

            mostrarProximaLetra(); 
            window.onkeydown = verificarTecla;
        }

        // Fun√ß√£o entre os n√≠veis (com bot√£o)
        function renderKeyboardLevelComplete() {
            gameContent.innerHTML = ''; 

            const titulo = document.createElement('h2');
            titulo.textContent = 'Jogo do Teclado';
            gameContent.appendChild(titulo);
            
            const vitoriaMsg = document.createElement('p');
            vitoriaMsg.textContent = `üëè N√≠vel ${keyboardGameLevel} completo!`;
            vitoriaMsg.style.fontSize = '1.3em';
            vitoriaMsg.style.color = 'var(--success-color)';
            gameContent.appendChild(vitoriaMsg);

            const p = document.createElement('p');
            p.textContent = 'Pronto para o pr√≥ximo desafio?';
            gameContent.appendChild(p);

            const btnProximoNivel = document.createElement('button');
            keyboardGameLevel++; 
            btnProximoNivel.textContent = `Ir para o N√≠vel ${keyboardGameLevel}`;
            btnProximoNivel.onclick = () => startKeyboardLevel(keyboardGameLevel); 
            gameContent.appendChild(btnProximoNivel);

            const btnSair = document.createElement('button');
            btnSair.textContent = 'Sair (Voltar ao Menu)';
            btnSair.style.backgroundColor = 'var(--neutral-color)'; 
            btnSair.onclick = voltarAoMenu; 
            gameContent.appendChild(btnSair);
        }

        function mostrarProximaLetra() {
            if (indiceTeclaAtual >= teclasDoJogoAtual.length) {
                window.onkeydown = null; 

                if (keyboardGameLevel < 5) {
                    // Chama a tela com o bot√£o
                    renderKeyboardLevelComplete();
                
                } else {
                    // Terminou o N√≠vel 5
                    renderKeyboardVitoria();
                }
            
            } else {
                letraAlvoDisplay.textContent = teclasDoJogoAtual[indiceTeclaAtual]; 
                feedbackDisplay.textContent = 'Aguardando a tecla...';
                feedbackDisplay.style.color = 'var(--text-secondary)';
            }
        }

        function verificarTecla(event) {
            if (!letraAlvoDisplay || indiceTeclaAtual >= teclasDoJogoAtual.length) {
                return;
            }

            let letraAlvo = teclasDoJogoAtual[indiceTeclaAtual]; 
            let letraPressionada = event.key.toUpperCase();

            if (letraPressionada === letraAlvo) {
                indiceTeclaAtual++;
                feedbackDisplay.textContent = 'Muito bem!';
                feedbackDisplay.style.color = 'var(--success-color)';
                
                setTimeout(mostrarProximaLetra, 700);
            } else {
                if (event.key.length === 1 && isNaN(event.key)) { 
                    feedbackDisplay.textContent = `Opa! Tente a tecla '${letraAlvo}'. Voc√™ apertou '${letraPressionada}'.`;
                    feedbackDisplay.style.color = 'var(--danger-color)';
                }
            }
        }

        // Tela de vit√≥ria final
        function renderKeyboardVitoria() {
            gameContent.innerHTML = ''; 

            const titulo = document.createElement('h2');
            titulo.textContent = 'Jogo do Teclado';
            gameContent.appendChild(titulo);
            
            const vitoriaMsg = document.createElement('p');
            vitoriaMsg.textContent = 'üèÜ Parab√©ns! Voc√™ completou todos os 5 n√≠veis!';
            vitoriaMsg.style.fontSize = '1.3em';
            vitoriaMsg.style.color = 'var(--success-color)';
            gameContent.appendChild(vitoriaMsg);

            const p = document.createElement('p');
            p.textContent = 'O que voc√™ gostaria de fazer agora?';
            gameContent.appendChild(p);

            const btnJogarDeNovo = document.createElement('button');
            btnJogarDeNovo.textContent = 'Jogar de Novo (do N√≠vel 1)';
            btnJogarDeNovo.onclick = iniciarJogoTeclado; 
            gameContent.appendChild(btnJogarDeNovo);

            const btnSair = document.createElement('button');
            btnSair.textContent = 'Sair (Voltar ao Menu)';
            btnSair.style.backgroundColor = 'var(--neutral-color)'; 
            btnSair.onclick = voltarAoMenu; 
            gameContent.appendChild(btnSair);
        }


        // --- 4. JOGO DE NAVEGA√á√ÉO (Com Miss√µes) ---

        let navInstrucao, navFeedback, fakeSiteContainer;
        let currentGameQuest = {};
        let currentQuestStep = 0;

        const NAV_QUESTS = [
            { // Miss√£o 1: Tecnologia
                id: 'tecnologia',
                steps: [
                    {
                        pageTitle: 'Portal de Informa√ß√µes',
                        instruction: "Sua tarefa: Clique em 'Not√≠cias'.",
                        correctLink: 'Not√≠cias',
                        allLinks: ['Not√≠cias', 'Esportes', 'Receitas', 'Sa√∫de']
                    },
                    {
                        pageTitle: 'P√°gina de Not√≠cias',
                        instruction: "√ìtimo! Agora, clique em 'Tecnologia'.",
                        correctLink: 'Tecnologia',
                        allLinks: ['Pol√≠tica', 'Tecnologia', 'Mundo', 'Previs√£o do Tempo']
                    },
                    {
                        pageTitle: 'Not√≠cias de Tecnologia',
                        instruction: "Interessante. Agora, clique em 'Lan√ßamentos'.",
                        correctLink: 'Lan√ßamentos',
                        allLinks: ['Software', 'Hardware', 'Intelig√™ncia Artificial', 'Lan√ßamentos']
                    },
                    {
                        pageTitle: 'Lan√ßamentos de Produtos',
                        instruction: "Quase l√°! Clique em 'An√°lise do Novo Celular'.",
                        correctLink: 'An√°lise do Novo Celular',
                        allLinks: ['An√°lise de Mouses', 'An√°lise do Novo Celular', 'Novo Notebook']
                    }
                ]
            },
            { // Miss√£o 2: Culin√°ria
                id: 'culinaria',
                steps: [
                    {
                        pageTitle: 'Portal de Informa√ß√µes',
                        instruction: "Sua tarefa: Clique em 'Receitas'.",
                        correctLink: 'Receitas',
                        allLinks: ['Not√≠cias', 'Esportes', 'Receitas', 'Sa√∫de']
                    },
                    {
                        pageTitle: 'P√°gina de Receitas',
                        instruction: "Que del√≠cia! Agora, clique em 'Bolos e Tortas'.",
                        correctLink: 'Bolos e Tortas',
                        allLinks: ['Sobremesas Geladas', 'Massas', 'Bolos e Tortas', 'Salgados']
                    },
                    {
                        pageTitle: 'Bolos e Tortas',
                        instruction: "Perfeito. Encontre a 'Receita de Bolo de Chocolate'.",
                        correctLink: 'Receita de Bolo de Chocolate',
                        allLinks: ['Bolo de Laranja', 'Torta de Ma√ß√£', 'Receita de Bolo de Chocolate', 'Pudim']
                    },
                    {
                        pageTitle: 'Receita de Bolo de Chocolate',
                        instruction: "√öltimo passo: Clique em 'Imprimir Receita'.",
                        correctLink: 'Imprimir Receita',
                        allLinks: ['Ver V√≠deo', 'Imprimir Receita', 'Coment√°rios']
                    }
                ]
            },
            { // Miss√£o 3: Esportes
                id: 'esportes',
                steps: [
                    {
                        pageTitle: 'Portal de Informa√ß√µes',
                        instruction: "Sua tarefa: Clique em 'Esportes'.",
                        correctLink: 'Esportes',
                        allLinks: ['Not√≠cias', 'Esportes', 'Receitas', 'Sa√∫de']
                    },
                    {
                        pageTitle: 'P√°gina de Esportes',
                        instruction: "Vamos l√°! Clique em 'Futebol'.",
                        correctLink: 'Futebol',
                        allLinks: ['Basquete', 'V√¥lei', 'Futebol', 'T√™nis']
                    },
                    {
                        pageTitle: 'Not√≠cias de Futebol',
                        instruction: "Encontre a 'Tabela do Campeonato'.",
                        correctLink: 'Tabela do Campeonato',
                        allLinks: ['Contrata√ß√µes', 'Tabela do Campeonato', 'Jogos de Ontem']
                    },
                    {
                        pageTitle: 'Tabela do Campeonato',
                        instruction: "Quase l√°! Clique em 'Ver Gols da Rodada'.",
                        correctLink: 'Ver Gols da Rodada',
                        allLinks: ['Ver Gols da Rodada', 'Classifica√ß√£o', 'Pr√≥ximos Jogos']
                    }
                ]
            }
        ];

        function iniciarJogoNavegacao() {
            mostrarAreaJogo();
            gameContent.innerHTML = ''; 

            currentGameQuest = NAV_QUESTS[Math.floor(Math.random() * NAV_QUESTS.length)];
            currentQuestStep = 0; 

            const titulo = document.createElement('h2');
            titulo.textContent = 'Jogo de Navega√ß√£o';
            gameContent.appendChild(titulo);

            navInstrucao = document.createElement('p');
            navInstrucao.id = "nav-instrucao";
            gameContent.appendChild(navInstrucao);

            fakeSiteContainer = document.createElement('div');
            fakeSiteContainer.id = 'fake-site';
            gameContent.appendChild(fakeSiteContainer);

            navFeedback = document.createElement('p');
            navFeedback.id = 'feedback-nav';
            gameContent.appendChild(navFeedback);

            renderNavStep();
        }

        function renderNavStep() {
            if (currentQuestStep >= currentGameQuest.steps.length) {
                renderNavVitoria();
                return;
            }

            const step = currentGameQuest.steps[currentQuestStep];

            navInstrucao.textContent = step.instruction;
            navFeedback.textContent = ''; 
            
            fakeSiteContainer.innerHTML = `<h3>${step.pageTitle}</h3>`;

            const linksEmbaralhados = embaralharArray(step.allLinks);
            
            linksEmbaralhados.forEach(textoDoLink => {
                const link = document.createElement('span');
                link.textContent = textoDoLink;
                link.className = 'fake-link';

                if (textoDoLink === step.correctLink) {
                    link.onclick = cliqueCorretoNav;
                } else {
                    link.onclick = cliqueErradoNav;
                }
                fakeSiteContainer.appendChild(link);
            });
        }

        function cliqueCorretoNav() {
            navFeedback.textContent = 'Excelente! Carregando pr√≥xima p√°gina...';
            navFeedback.style.color = 'var(--success-color)';
            currentQuestStep++; 

            const links = document.querySelectorAll('.fake-link');
            links.forEach(link => link.onclick = null);

            setTimeout(renderNavStep, 1500); 
        }

        function cliqueErradoNav() {
            const step = currentGameQuest.steps[currentQuestStep];
            navFeedback.textContent = `Opa! Tente clicar em '${step.correctLink}'.`;
            navFeedback.style.color = 'var(--danger-color)';
        }

        function renderNavVitoria() {
            navInstrucao.textContent = "Parab√©ns! Voc√™ aprendeu a navegar! üëè";
            navFeedback.textContent = '';
            
            fakeSiteContainer.innerHTML = '<h2>Miss√£o Conclu√≠da!</h2><p>O que voc√™ gostaria de fazer agora?</p>';

            const btnJogarDeNovo = document.createElement('button');
            btnJogarDeNovo.textContent = 'Jogar de Novo (Outra Miss√£o)';
            btnJogarDeNovo.onclick = iniciarJogoNavegacao; 
            fakeSiteContainer.appendChild(btnJogarDeNovo);

            const btnSair = document.createElement('button');
            btnSair.textContent = 'Sair (Voltar ao Menu)';
            btnSair.style.backgroundColor = 'var(--neutral-color)'; 
            btnSair.onclick = voltarAoMenu; 
            fakeSiteContainer.appendChild(btnSair);
        }

    </script>
</body>
</html>